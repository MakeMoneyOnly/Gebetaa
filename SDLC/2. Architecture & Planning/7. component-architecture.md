# SKILL: component-architecture

## Purpose

Design and implement a comprehensive component library following atomic design principles, creating reusable, accessible, and beautifully crafted UI components that enable rapid, consistent development. This skill produces production-ready component specifications and code.

## When to Use

- After `/ux-patterns` defines interaction patterns
- Before frontend implementation begins
- When building or extending a component library
- When establishing component standards for a team
- When refactoring inconsistent UI elements

## Role Activated

**Principal UI Engineer + Design Systems Architect**

You think like the frontend leads at Vercel, Radix, or shadcn—building components that are both developer-friendly and pixel-perfect. You balance flexibility with consistency, and accessibility with aesthetics.

## Inputs (Variables)

````yaml
{design_tokens}: From /design-system-core
{ux_patterns}: From /ux-patterns
{framework}: React, Vue, Svelte, Web Components
{styling_approach}: CSS Modules, Tailwind, styled-components, CSS-in-JS
{accessibility_level}: WCAG 2.1 AA (minimum) or AAA
{component_needs}: Specific components required

Step-by-Step Process
Step 1: Atomic Design Structure
Establish component hierarchy:
markdownDownloadCopy code## Component Hierarchy (Atomic Design)

### Level 1: Atoms
Fundamental building blocks that cannot be broken down further.

| Component | Purpose | Variants |
|-----------|---------|----------|
| Button | User actions | primary, secondary, ghost, danger, link |
| Input | Text entry | text, email, password, number, search |
| Checkbox | Boolean selection | default, indeterminate |
| Radio | Single selection | default |
| Switch | Toggle | default |
| Badge | Status/count | default, success, warning, error, info |
| Avatar | User representation | image, initials, icon |
| Icon | Visual symbols | [icon library] |
| Spinner | Loading indicator | sm, md, lg |
| Tooltip | Contextual info | top, right, bottom, left |

### Level 2: Molecules
Combinations of atoms that form functional units.

| Component | Composition | Purpose |
|-----------|-------------|---------|
| FormField | Label + Input + Helper + Error | Complete form input |
| SearchInput | Input + Icon + Clear button | Search functionality |
| ButtonGroup | Multiple Buttons | Related actions |
| InputGroup | Input + Addon (prefix/suffix) | Enhanced inputs |
| AvatarGroup | Multiple Avatars | User lists |
| Dropdown | Button + Menu | Selection menus |
| Tabs | Tab buttons + Tab panels | Content organization |
| Breadcrumb | Links + Separators | Navigation context |
| Pagination | Buttons + Page numbers | List navigation |

### Level 3: Organisms
Complex components combining molecules and atoms.

| Component | Composition | Purpose |
|-----------|-------------|---------|
| Card | Header + Content + Footer + Actions | Content containers |
| Modal | Overlay + Header + Content + Footer | Focused interactions |
| Drawer | Overlay + Slide panel + Content | Side content |
| Table | Header + Rows + Cells + Pagination | Data display |
| Form | FormFields + Buttons + Validation | Data collection |
| Navbar | Logo + Navigation + Actions | Global navigation |
| Sidebar | Navigation + User info | Section navigation |
| CommandPalette | Search + Results + Keyboard nav | Power user search |
| Toast | Icon + Message + Action + Close | Notifications |
| AlertDialog | Modal + Message + Actions | Confirmations |

### Level 4: Templates
Page-level component compositions.

| Template | Components Used | Purpose |
|----------|-----------------|---------|
| DashboardLayout | Navbar + Sidebar + Main | App shell |
| AuthLayout | Card + Form | Login/Register |
| SettingsLayout | Sidebar + Content | Settings pages |
| ListLayout | Header + Filters + Table/Cards | List views |
| DetailLayout | Header + Tabs + Content | Detail views |
Step 2: Component Specifications
Define detailed component specs:
markdownDownloadCopy code## Component Specification Template

### Component: Button

#### Overview
Primary interactive element for triggering actions.

#### Anatomy
┌─────────────────────────────────────┐
│  [Icon]  Label Text  [Icon]         │
│    ↑        ↑           ↑           │
│  leadingIcon  children  trailingIcon │
└─────────────────────────────────────┘

#### Props API

```typescript
interface ButtonProps {
  // Content
  children: React.ReactNode;
  leadingIcon?: React.ReactNode;
  trailingIcon?: React.ReactNode;

  // Variants
  variant?: 'primary' | 'secondary' | 'ghost' | 'danger' | 'link';
  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';

  // States
  disabled?: boolean;
  loading?: boolean;

  // Behavior
  type?: 'button' | 'submit' | 'reset';
  onClick?: (event: React.MouseEvent) => void;

  // Styling
  fullWidth?: boolean;
  className?: string;

  // Accessibility
  'aria-label'?: string;
  'aria-describedby'?: string;
}

Visual Specifications
Size Tokens
SizeHeightPadding XFont SizeIcon Sizexs28px8px12px14pxsm32px12px14px16pxmd40px16px14px18pxlg44px20px16px20pxxl48px24px16px20px
Variant Styles
VariantBackgroundTextBorderHoverprimaryprimary-600whitenoneprimary-700secondaryneutral-100neutral-900neutral-200neutral-200ghosttransparentneutral-900noneneutral-100dangerred-600whitenonered-700linktransparentprimary-600noneunderline
States
cssDownloadCopy code/* Default */
.button { }

/* Hover */
.button:hover { }

/* Focus */
.button:focus-visible {
  outline: 2px solid var(--color-primary-500);
  outline-offset: 2px;
}

/* Active */
.button:active {
  transform: scale(0.98);
}

/* Disabled */
.button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Loading */
.button[data-loading="true"] {
  position: relative;
  color: transparent;
  pointer-events: none;
}
Accessibility Requirements

* Must have accessible name (visible text or aria-label)
* Focus visible indicator required
* Disabled state must not rely on color alone
* Loading state must be announced to screen readers
* Keyboard: Space/Enter activates

Usage Examples
jsxDownloadCopy code// Primary action
<Button variant="primary">Save Changes</Button>

// With loading state
<Button loading>Submitting...</Button>

// With icons
<Button leadingIcon={<PlusIcon />}>Add Item</Button>

// Danger action
<Button variant="danger">Delete Project</Button>

// Full width
<Button fullWidth>Continue</Button>
Do's and Don'ts
✅ Use primary for main page actions
✅ Use one primary button per section
✅ Use verb-noun pattern for labels
✅ Keep labels concise (2-4 words)
❌ Don't use multiple primary buttons together
❌ Don't use vague labels like "Click here"
❌ Don't disable without explanation
❌ Don't use for navigation (use links)

### Step 3: Core Component Implementation

Provide implementation for key components:

```markdown
## Core Component Implementations

### Button Component

```tsx
// components/Button/Button.tsx
import * as React from 'react';
import { cva, type VariantProps } from 'class-variance-authority';
import { Loader2 } from 'lucide-react';
import { cn } from '@/lib/utils';

const buttonVariants = cva(
  // Base styles
  `inline-flex items-center justify-center gap-2 whitespace-nowrap
   rounded-lg font-semibold transition-all duration-200
   focus-visible:outline-none focus-visible:ring-2
   focus-visible:ring-primary-500 focus-visible:ring-offset-2
   disabled:pointer-events-none disabled:opacity-50
   active:scale-[0.98]`,
  {
    variants: {
      variant: {
        primary:
          'bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800',
        secondary:
          'bg-neutral-100 text-neutral-900 border border-neutral-200 hover:bg-neutral-200',
        ghost:
          'hover:bg-neutral-100 text-neutral-900',
        danger:
          'bg-red-600 text-white hover:bg-red-700',
        link:
          'text-primary-600 underline-offset-4 hover:underline',
      },
      size: {
        xs: 'h-7 px-2 text-xs',
        sm: 'h-8 px-3 text-sm',
        md: 'h-10 px-4 text-sm',
        lg: 'h-11 px-5 text-base',
        xl: 'h-12 px-6 text-base',
      },
      fullWidth: {
        true: 'w-full',
      },
    },
    defaultVariants: {
      variant: 'primary',
      size: 'md',
    },
  }
);

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  loading?: boolean;
  leadingIcon?: React.ReactNode;
  trailingIcon?: React.ReactNode;
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  (
    {
      className,
      variant,
      size,
      fullWidth,
      loading = false,
      disabled,
      leadingIcon,
      trailingIcon,
      children,
      ...props
    },
    ref
  ) => {
    return (
      <button
        className={cn(buttonVariants({ variant, size, fullWidth, className }))}
        ref={ref}
        disabled={disabled || loading}
        aria-busy={loading}
        {...props}
      >
        {loading ? (
          <Loader2 className="h-4 w-4 animate-spin" aria-hidden="true" />
        ) : (
          leadingIcon
        )}
        {children}
        {!loading && trailingIcon}
      </button>
    );
  }
);

Button.displayName = 'Button';

export { Button, buttonVariants };

Input Component
tsxDownloadCopy code// components/Input/Input.tsx
import * as React from 'react';
import { cn } from '@/lib/utils';

export interface InputProps
  extends React.InputHTMLAttributes<HTMLInputElement> {
  error?: boolean;
  leadingAddon?: React.ReactNode;
  trailingAddon?: React.ReactNode;
}

const Input = React.forwardRef<HTMLInputElement, InputProps>(
  ({ className, type, error, leadingAddon, trailingAddon, ...props }, ref) => {
    return (
      <div className="relative flex items-center">
        {leadingAddon && (
          <div className="absolute left-3 flex items-center pointer-events-none text-neutral-500">
            {leadingAddon}
          </div>
        )}
        <input
          type={type}
          className={cn(
            `flex h-10 w-full rounded-lg border bg-white px-3 py-2 text-sm
             transition-colors duration-200
             file:border-0 file:bg-transparent file:text-sm file:font-medium
             placeholder:text-neutral-500
             focus-visible:outline-none focus-visible:ring-2
             focus-visible:ring-primary-500 focus-visible:ring-offset-0
             disabled:cursor-not-allowed disabled:opacity-50`,
            error
              ? 'border-red-500 focus-visible:ring-red-500'
              : 'border-neutral-200 hover:border-neutral-300',
            leadingAddon && 'pl-10',
            trailingAddon && 'pr-10',
            className
          )}
          ref={ref}
          aria-invalid={error}
          {...props}
        />
        {trailingAddon && (
          <div className="absolute right-3 flex items-center text-neutral-500">
            {trailingAddon}
          </div>
        )}
      </div>
    );
  }
);

Input.displayName = 'Input';

export { Input };
Card Component
tsxDownloadCopy code// components/Card/Card.tsx
import * as React from 'react';
import { cn } from '@/lib/utils';

const Card = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn(
      `rounded-xl border border-neutral-200 bg-white
       shadow-sm transition-shadow duration-200
       hover:shadow-md`,
      className
    )}
    {...props}
  />
));
Card.displayName = 'Card';

const CardHeader = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn('flex flex-col space-y-1.5 p-6 pb-4', className)}
    {...props}
  />
));
CardHeader.displayName = 'CardHeader';

const CardTitle = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLHeadingElement>
>(({ className, ...props }, ref) => (
  <h3
    ref={ref}
    className={cn('text-lg font-semibold leading-none tracking-tight', className)}
    {...props}
  />
));
CardTitle.displayName = 'CardTitle';

const CardDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => (
  <p
    ref={ref}
    className={cn('text-sm text-neutral-500', className)}
    {...props}
  />
));
CardDescription.displayName = 'CardDescription';

const CardContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />
));
CardContent.displayName = 'CardContent';

const CardFooter = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn('flex items-center p-6 pt-0', className)}
    {...props}
  />
));
CardFooter.displayName = 'CardFooter';

export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };
Modal Component
tsxDownloadCopy code// components/Modal/Modal.tsx
import * as React from 'react';
import * as DialogPrimitive from '@radix-ui/react-dialog';
import { X } from 'lucide-react';
import { cn } from '@/lib/utils';

const Modal = DialogPrimitive.Root;
const ModalTrigger = DialogPrimitive.Trigger;
const ModalClose = DialogPrimitive.Close;

const ModalOverlay = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      `fixed inset-0 z-50 bg-black/50 backdrop-blur-sm
       data-[state=open]:animate-in data-[state=closed]:animate-out
       data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0`,
      className
    )}
    {...props}
  />
));
ModalOverlay.displayName = DialogPrimitive.Overlay.displayName;

const ModalContent = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content> & {
    size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';
  }
>(({ className, children, size = 'md', ...props }, ref) => {
  const sizeClasses = {
    sm: 'max-w-sm',
    md: 'max-w-md',
    lg: 'max-w-lg',
    xl: 'max-w-xl',
    full: 'max-w-[90vw]',
  };

  return (
    <DialogPrimitive.Portal>
      <ModalOverlay />
      <DialogPrimitive.Content
        ref={ref}
        className={cn(
          `fixed left-[50%] top-[50%] z-50 w-full translate-x-[-50%] translate-y-[-50%]
           rounded-2xl border border-neutral-200 bg-white p-6 shadow-xl
           duration-200
           data-[state=open]:animate-in data-[state=closed]:animate-out
           data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0
           data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95
           data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%]
           data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]`,
          sizeClasses[size],
          className
        )}
        {...props}
      >
        {children}
        <DialogPrimitive.Close
          className={cn(
            `absolute right-4 top-4 rounded-lg p-1 text-neutral-500
             hover:bg-neutral-100 hover:text-neutral-900
             focus:outline-none focus:ring-2 focus:ring-primary-500`
          )}
        >
          <X className="h-4 w-4" />
          <span className="sr-only">Close</span>
        </DialogPrimitive.Close>
      </DialogPrimitive.Content>
    </DialogPrimitive.Portal>
  );
});
ModalContent.displayName = DialogPrimitive.Content.displayName;

const ModalHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn('flex flex-col space-y-2 mb-4', className)}
    {...props}
  />
);
ModalHeader.displayName = 'ModalHeader';

const ModalTitle = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn('text-lg font-semibold text-neutral-900', className)}
    {...props}
  />
));
ModalTitle.displayName = DialogPrimitive.Title.displayName;

const ModalDescription = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Description
    ref={ref}
    className={cn('text-sm text-neutral-500', className)}
    {...props}
  />
));
ModalDescription.displayName = DialogPrimitive.Description.displayName;

const ModalFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn('flex justify-end gap-3 mt-6', className)}
    {...props}
  />
);
ModalFooter.displayName = 'ModalFooter';

export {
  Modal,
  ModalTrigger,
  ModalContent,
  ModalHeader,
  ModalFooter,
  ModalTitle,
  ModalDescription,
  ModalClose,
};

### Step 4: Component Documentation

Create usage documentation:

```markdown
## Component Documentation Standards

### Documentation Template

Each component must include:

1. **Overview** - What the component does
2. **Import** - How to import
3. **Props** - Full props table with types
4. **Examples** - Common use cases
5. **Variants** - Visual variant examples
6. **Accessibility** - A11y considerations
7. **Do's and Don'ts** - Usage guidelines

### Example: Button Documentation

```mdx
# Button

Buttons trigger actions or events when clicked.

## Import

\`\`\`tsx
import { Button } from '@/components/ui/button';
\`\`\`

## Usage

\`\`\`tsx
<Button>Click me</Button>
\`\`\`

## Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| variant | 'primary' \| 'secondary' \| 'ghost' \| 'danger' \| 'link' | 'primary' | Visual style |
| size | 'xs' \| 'sm' \| 'md' \| 'lg' \| 'xl' | 'md' | Button size |
| loading | boolean | false | Show loading spinner |
| disabled | boolean | false | Disable interactions |
| fullWidth | boolean | false | Take full container width |
| leadingIcon | ReactNode | - | Icon before label |
| trailingIcon | ReactNode | - | Icon after label |

## Examples

### Variants
[Visual examples of each variant]

### Sizes
[Visual examples of each size]

### With Icons
[Examples with leading/trailing icons]

### Loading State
[Loading button example]

## Accessibility

- Buttons are focusable and keyboard accessible
- Loading state is announced via `aria-busy`
- Disabled buttons remain in tab order with `aria-disabled`
- Always provide accessible labels

## Do's and Don'ts

✅ **Do**
- Use primary variant for main page actions
- Use clear, action-oriented labels
- Show loading state for async actions

❌ **Don't**
- Don't use multiple primary buttons together
- Don't use generic labels like "Click here"
- Don't disable without visible explanation
\`\`\`

Outputs

1. Atomic Design Structure - Complete component hierarchy
2. Component Specifications - Detailed specs for each component
3. Implementation Code - Production-ready component code
4. Props API Documentation - TypeScript interfaces
5. Visual Specifications - Sizes, colors, spacing
6. Accessibility Requirements - Per-component a11y needs
7. Usage Guidelines - Do's, don'ts, examples
8. Component Documentation - Full MDX docs

Quality Gates
GateCriteriaStatusCoverageAll required components specifiedConsistencyAll components follow same patternsAccessibilityAll components meet WCAG 2.1 AADocumentationAll components fully documentedType SafetyFull TypeScript coverageTestingStories/tests for all variants
References & Best Practices
From Radix UI

* "Unstyled, accessible components for building high‑quality design systems."
* Use primitives for complex behaviors (modals, dropdowns, etc.)

From shadcn/ui

* "Copy and paste components. Own your code."
* Components should be customizable, not locked in.

From Tympanus/Codrops

* "The best component libraries feel alive. Subtle animations make the difference."
* Reference hover states and micro-interactions.

From Design Systems Community

* "A component is only as good as its worst edge case."
* Test loading, error, empty, and overflow states.

Invocation Examples
/component-architecture design_tokens="[from /design-system-core]" framework="React" styling_approach="Tailwind"

/component-architecture component_needs="Button, Input, Card, Modal, Table, Form" accessibility_level="WCAG 2.1 AA"
````
